<div class=" container bg-light border border-primary border-4 rounded alto2">
    <h4>Reacción Inorgánica: {{reaccionForm|uppercase}}</h4>

    <!-- REACCIÓN -->
    <div *ngIf="itsOK">
        <!-- Óxido valencia impar -->
        <h5 *ngIf="reaccion('oxido basico') && !par('m')">4 {{elemento.simbolo}} + <span *ngIf="!siEs('m',1)">{{valM}} </span>O<sub>2 </sub>
            <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}<sub>2</sub>O<sub *ngIf="!siEs('m',1)">{{valM}}</sub></b></h5>

        <!-- Óxido valencia 2 -->
        <h5 *ngIf="reaccion('oxido basico') && siEs('m',2)">2 {{elemento.simbolo}} + O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}O</b></h5>

        <!-- Óxido valencia 4 -->
        <h5 *ngIf="reaccion('oxido basico') && siEs('m',4)">{{elemento.simbolo}} + O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> <b>{{elemento.simbolo}}O<sub>2</sub></b></h5>

        <!-- Óxido valencia 6 -->
        <h5 *ngIf="reaccion('oxido basico') && siEs('m',6)">2 {{elemento.simbolo}} + 3 O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}O<sub>3</sub></b></h5>

        <!-- Anhídrido valencia impar -->
        <h5 *ngIf="reaccion('anhidrido') && !par('nm')"><span *ngIf="diatom()">2 </span><span *ngIf="!diatom()">4 </span>{{elemento.simbolo}}<sub *ngIf="diatom()">2</sub> + <span *ngIf="!siEs('nm',1)">{{valNM}} </span>O<sub>2 </sub>
            <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}<sub>2</sub>O<sub *ngIf="!siEs('nm',1)">{{valNM}}</sub></b></h5>

        <!-- Anhídrido valencia 2 -->
        <h5 *ngIf="reaccion('anhidrido') && siEs('nm',2)">2 {{elemento.simbolo}} + O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}O</b></h5>

        <!-- Anhídrido valencia 4 -->
        <h5 *ngIf="reaccion('anhidrido') && siEs('nm',4)">{{elemento.simbolo}} + O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> <b>{{elemento.simbolo}}O<sub>2</sub></b></h5>

        <!-- Anhídrido valencia 6 -->
        <h5 *ngIf="reaccion('anhidrido') && siEs('nm',6)">2 {{elemento.simbolo}} + 3 O<sub>2 </sub> <i class="bi bi-arrow-right fs-4"></i> 2 <b>{{elemento.simbolo}}O<sub>3</sub></b></h5>

        <!-- Hidróxido -->
        <h5 *ngIf="reaccion('hidroxido')">{{elemento.simbolo}}<sub *ngIf="!par('m')">2</sub>O<sub *ngIf="siEs('m',4)">2</sub><sub *ngIf="siEs('m',3)">3</sub> + <span *ngIf="siEs('m',3)">3 </span><span *ngIf="siEs('m',4)">2 </span>H<sub>2</sub>O
            <i class="bi bi-arrow-right fs-4"></i><span *ngIf="!par('m')">2 </span><b>{{elemento.simbolo}}(OH)<sub *ngIf="!siEs('m',1)">{{valM}}</sub></b></h5>

        <!-- Ácido valencia par -->
        <h5 *ngIf="reaccion('acido') && par('nm')">{{elemento.simbolo}}O<sub *ngIf="!siEs('nm',2)">{{valNM/2}}</sub> + H<sub>2</sub>O <i class="bi bi-arrow-right fs-4"></i> <b>H<sub>2</sub>{{elemento.simbolo}}O<sub>{{valNM/2+1}}</sub></b></h5>

        <!-- Ácido valencia impar -->
        <h5 *ngIf="reaccion('acido') && !par('nm') && !esElem('P') && !esElem('As')">{{elemento.simbolo}}<sub>2</sub>O<sub *ngIf="!siEs('nm',1)">{{valNM}}</sub> + H<sub>2</sub>O <i class="bi bi-arrow-right fs-4"></i> 2 <b>H{{elemento.simbolo}}O<sub *ngIf="!siEs('nm',1)">{{(valNM/1+1)/2}}</sub></b></h5>

        <!-- Ácido especial-->
        <h5 *ngIf="reaccion('acido') && (esElem('P') || esElem('As'))">{{elemento.simbolo}}<sub>2</sub>O<sub>{{valNM}}</sub> + <span *ngIf="acidoEsp==2">2 </span><span *ngIf="acidoEsp==3">3 </span>H<sub>2</sub>O <i class="bi bi-arrow-right fs-4"></i>
            <span *ngIf="siEs('nm',3)"><span *ngIf="acidoEsp==1">2 <b>H{{elemento.simbolo}}O<sub>2</sub></b></span><span *ngIf="acidoEsp==2"><b>H<sub>4</sub>{{elemento.simbolo}}<sub>2</sub>O<sub>5</sub></b></span><span *ngIf="acidoEsp==3">2 <b>H<sub>3</sub>{{elemento.simbolo}}O<sub>3</sub></b></span></span>
            <span *ngIf="siEs('nm',5)"><span *ngIf="acidoEsp==1">2 <b>H{{elemento.simbolo}}O<sub>3</sub></b></span><span *ngIf="acidoEsp==2"><b>H<sub>4</sub>{{elemento.simbolo}}<sub>2</sub>O<sub>7</sub></b></span><span *ngIf="acidoEsp==3">2 <b>H<sub>3</sub>{{elemento.simbolo}}O<sub>4</sub></b></span></span>
         </h5>


        <!-- Hidrácido -->
        <h5 *ngIf="reaccion('hidracido')">{{elemento.simbolo}}<sub>2</sub> +<span *ngIf="esElem('S')"> 2</span> H<sub>2</sub> <i class="bi bi-arrow-right fs-4"></i> 2 <b>H<sub *ngIf="esElem('S')">2</sub>{{elemento.simbolo}}</b></h5>

        <!-- Sal de metal valencia par -->
        <h5 *ngIf="reaccion('sal') && par('m') && !(acidoEsp>1)">{{salMetal.simbolo}}(OH)<sub>{{valM}}</sub> + <span *ngIf="par('nm') && siEs('m',4)">2 </span><span *ngIf="!par('nm')">{{valM}} </span>H<sub *ngIf="par('nm')">2</sub>{{salNoMetal.simbolo}}O<sub *ngIf="par('nm')">{{valNM/2+1}}</sub><sub *ngIf="!par('nm') && !siEs('nm',1)">{{(valNM/1+1)/2}}</sub>
            <i class="bi bi-arrow-right fs-4"></i> <b>{{salMetal.simbolo}}({{salNoMetal.simbolo}}O<sub *ngIf="par('nm')">{{valNM/2+1}}</sub><sub *ngIf="!par('nm') && !siEs('nm',1)">{{(valNM/1+1)/2}}</sub>)<sub *ngIf="par('nm') && siEs('m',4)">2</sub><sub 
                *ngIf="!par('nm')">{{valM}}</sub></b> + {{valM}} H<sub>2</sub>O</h5>

        <!-- Sal de metal valencia impar -->
        <h5 *ngIf="reaccion('sal') && !par('m') && !(acidoEsp>1)"><span *ngIf="par('nm')">2 </span>{{salMetal.simbolo}}(OH)<sub *ngIf="siEs('m',3)">3</sub> + <span *ngIf="siEs('m',3)">3 </span>H<sub *ngIf="par('nm')">2</sub>{{salNoMetal.simbolo}}O<sub *ngIf="par('nm')">{{valNM/2+1}}</sub><sub *ngIf="!par('nm') && !siEs('nm',1)">{{(valNM/1+1)/2}}</sub>            <i class="bi bi-arrow-right fs-4"></i> <b>{{salMetal.simbolo}}<sub *ngIf="par('nm')">2</sub>({{salNoMetal.simbolo}}O<sub *ngIf="par('nm')">{{valNM/2+1}}</sub><sub 
                *ngIf="!par('nm') && !siEs('nm',1)">{{(valNM/1+1)/2}}</sub>)<sub *ngIf="siEs('m',3)">3</sub></b> + <span *ngIf="par('nm')">{{valM*2}} </span><span *ngIf="!par('nm') && siEs('m',3)">3 </span>H<sub>2</sub>O</h5>

        <!-- Sal de P y As -->
        <h5 *ngIf="reaccion('sal') && acidoEsp>1"><span *ngIf="siEs('m',2) && esEsp(2)">2 </span><span *ngIf="(siEs('m',1) || par('m')) && esEsp(3)">3 </span><span *ngIf="!par('m') && esEsp(2)">4 </span>{{salMetal.simbolo}}(OH)<sub *ngIf="!siEs('m',1)">{{valM}}</sub> + <span *ngIf="siEs('m',2) && esEsp(3)">2 </span><span *ngIf="siEs('m',3) && esEsp(2)">3 </span><span *ngIf="siEs('m',4) && esEsp(3)">4 </span>H<sub *ngIf="esEsp(2)">4</sub><sub *ngIf="esEsp(3)">3</sub>{{salNoMetal.simbolo}}<sub *ngIf="esEsp(2)">2</sub>O<sub *ngIf="esEsp(2) && siEs('nm',3)">5 </sub><sub *ngIf="esEsp(3) && siEs('nm',3)">3 </sub><sub *ngIf="esEsp(2) && siEs('nm',5)">7 </sub><sub *ngIf="esEsp(3) && siEs('nm',5)">4 </sub><i class="bi bi-arrow-right fs-4"></i> <b>{{salMetal.simbolo}}<sub *ngIf="siEs('m',2) && esEsp(2)">2</sub><sub *ngIf="(siEs('m',1) || par('m')) && esEsp(3)">3</sub><sub *ngIf="!par('m') && esEsp(2)">4</sub><span *ngIf="siEs('m',2) && esEsp(3) || siEs('m',3) && esEsp(2) || siEs('m',4) && esEsp(3)">(</span>{{salNoMetal.simbolo}}<sub *ngIf="esEsp(2)">2</sub>O<sub *ngIf="esEsp(2) && siEs('nm',3)">5</sub><sub *ngIf="esEsp(3) && siEs('nm',3)">3</sub><sub *ngIf="esEsp(2) && siEs('nm',5)">7</sub><sub *ngIf="esEsp(3) && siEs('nm',5)">4</sub><span *ngIf="siEs('m',2) && esEsp(3)">)<sub>2</sub></span><span *ngIf="siEs('m',3) && esEsp(2)">)<sub>3</sub></span><span *ngIf="siEs('m',4) && esEsp(3)">)<sub>4</sub></span></b> + <span *ngIf="(siEs('m',1) || par('m')) && esEsp(2)">4 </span><span *ngIf="(siEs('m',3) && esEsp(2)) || (siEs('m',4) && esEsp(3))">12 </span><span *ngIf="!par('m') && esEsp(3)">3 </span><span *ngIf="siEs('m',2) && esEsp(3)">6 </span>H<sub>2</sub>O</h5>
        
        <!-- Sal de hidrácido -->
        <h5 *ngIf="reaccion('sal de hidracido')"><span *ngIf="!par('m') && par('nm')">2 </span>{{salMetal.simbolo}}(OH)<sub *ngIf="siEs('m',2)">2</sub><sub *ngIf="siEs('m',3)">3</sub><sub *ngIf="siEs('m',4)">4</sub> + <span *ngIf="siEs('m',2) && siEs('nm',1) || siEs('m',4) && siEs('nm',2)">2 </span>
            <span *ngIf="siEs('m',3)">3 </span><span *ngIf="siEs('m',4) && siEs('nm',1)">4 </span>H<sub *ngIf="siEs('nm',2)">2</sub>{{salNoMetal.simbolo}} <i class="bi bi-arrow-right fs-4"></i> <b>{{salMetal.simbolo}}<sub *ngIf="!par('m') && par('nm')">2</sub>{{salNoMetal.simbolo}}<sub 
                *ngIf="siEs('m',2) && siEs('nm',1) || siEs('m',4) && siEs('nm',2)">2</sub><sub *ngIf="siEs('m',3)">3</sub><sub *ngIf="siEs('m',4) && siEs('nm',1)">4</sub></b> + <span *ngIf="siEs('m',1) && siEs('nm',2) || siEs('m',2)">2 </span><span *ngIf="siEs('m',3) && siEs('nm',1)">3 </span>
            <span *ngIf="siEs('m',3) && siEs('nm',2)">6 </span>
            <span *ngIf="siEs('m',4)">4 </span>H<sub>2</sub>O</h5>

        <!-- NOMENCLATURA -->

        <!-- Óxido tradicional -->
        <h6 *ngIf="reaccion('oxido basico')">Nomenclatura tradicional: <b>óxido <span *ngIf="valLength('em', 1)">de {{elemento.nombre|lowercase}}</span><span *ngIf="valLength('em',2) && esVal('em', 0)">{{elemento.nomenclatura}}oso</span><span *ngIf="valLength('em',2) && esVal('em',1)">{{elemento.nomenclatura}}ico</span></b></h6>

        <!-- Óxido Stock -->
        <h6 *ngIf="reaccion('oxido basico')">Nomenclatura Stock: <b>óxido de {{elemento.nombre|lowercase}}({{valM|romano}})</b></h6>

        <!-- Óxido sistemática -->
        <h6 *ngIf="reaccion('oxido basico')">Nomenclatura sistemática: <b><span *ngIf="siEs('m',1) || siEs('m',2)">mon</span><span *ngIf="siEs('m',4)">di</span><span *ngIf="siEs('m',3)">tri</span>óxido de <span *ngIf="!par('m')">di</span>{{elemento.nombre|lowercase}}</b></h6>

        <!-- Anhidrido tradicional -->
        <h6 *ngIf="reaccion('anhidrido')">Nomenclatura tradicional: <b>anhídrido <span *ngIf="valLength('enm', 1)">de {{elemento.nombre|lowercase}}</span><span *ngIf="valLength('enm',2) && esVal('enm', 0)">{{elemento.nomenclatura}}oso</span><span *ngIf="valLength('enm',2) && esVal('enm',1)">{{elemento.nomenclatura}}ico</span>
            <span *ngIf="valLength('enm',3) && esVal('enm',0)">hipo{{elemento.nomenclatura}}<span *ngIf="esElem('S')">ur</span>oso</span>
            <span *ngIf="valLength('enm',3) && esVal('enm',1)">{{elemento.nomenclatura}}<span *ngIf="esElem('S')">ur</span>oso</span><span *ngIf="valLength('enm',3) && esVal('enm',2)">{{elemento.nomenclatura}}<span *ngIf="esElem('S')">ur</span>ico</span><span *ngIf="valLength('enm',4) && esVal('enm',0)">hipo{{elemento.nomenclatura}}oso</span>
            <span *ngIf="valLength('enm',4) && esVal('enm',1)">{{elemento.nomenclatura}}oso</span>
            <span *ngIf="valLength('enm',4) && esVal('enm',2)">{{elemento.nomenclatura}}ico</span><span *ngIf="valLength('enm',4) && esVal('enm',3)">per{{elemento.nomenclatura}}ico</span></b></h6>

            <!-- Anhídrido Stock -->
        <h6 *ngIf="reaccion('anhidrido')">Nomenclatura Stock: <b>óxido de {{elemento.nombre|lowercase}}({{valNM|romano}})</b></h6>

        <!-- Anhídrido sistemática -->
        <h6 *ngIf="reaccion('anhidrido')">Nomenclatura sistemática: <b><span *ngIf="siEs('nm',1) || siEs('nm',2)">mon</span><span *ngIf="siEs('nm',4)">di</span><span *ngIf="siEs('nm',3) || siEs('nm',6)">tri</span><span *ngIf="siEs('nm',5)">pent</span><span *ngIf="siEs('nm',7)">hept</span>óxido de
            <span *ngIf="!par('nm')">di</span>{{elemento.nombre|lowercase}}</b></h6>

        <!-- hidróxido tradicional -->
        <h6 *ngIf="reaccion('hidroxido')">Nomenclatura tradicional: <b>hidróxido <span *ngIf="valLength('em',1)">de {{elemento.nombre|lowercase}}</span><span *ngIf="valLength('em',2) && esVal('em',0)">{{elemento.nomenclatura}}oso</span><span *ngIf="valLength('em',2) && esVal('em',1)">{{elemento.nomenclatura}}ico</span></b></h6>

        <!-- hidróxido Stock -->
        <h6 *ngIf="reaccion('hidroxido')">Nomenclatura Stock: <b>hidróxido de {{elemento.nombre|lowercase}}({{valM|romano}})</b></h6>

        <!-- hidróxido sistemática -->
        <h6 *ngIf="reaccion('hidroxido')">Nomenclatura sistemática: <b><span *ngIf="siEs('m',1)">mono</span><span *ngIf="siEs('m',2)">di</span><span *ngIf="siEs('m',3)">tri</span><span *ngIf="siEs('m',4)">tetra</span>hidróxido de {{elemento.nombre|lowercase}}</b></h6>

        <!-- ácido tradicional -->
        <h6 *ngIf="reaccion('acido') && !esElem('P') && !esElem('As')">Nomenclatura tradicional: <b>ácido <span *ngIf="valLength('enm',1)">de {{elemento.nombre|lowercase}}</span><span *ngIf="valLength('enm',2) && esVal('enm',0)">{{elemento.nomenclatura}}oso</span><span *ngIf="valLength('enm',2) && esVal('enm',1)">{{elemento.nomenclatura}}ico</span>
        <span *ngIf="valLength('enm',3) && esVal('enm',0)"><span *ngIf="esElem('S')">hiposulfuroso</span><span *ngIf="esElem('Mn')">manganoso</span></span>
        <span *ngIf="valLength('enm',3) && esVal('enm',1)"><span *ngIf="esElem('S')">sulfuroso</span><span *ngIf="esElem('Mn')">mangánico</span></span><span *ngIf="valLength('enm',3) && esVal('enm',2)"><span *ngIf="esElem('S')">sulfúrico</span><span *ngIf="esElem('Mn')">permanganico</span></span><span *ngIf="valLength('enm',4) && esVal('enm',0)">hipo{{elemento.nomenclatura}}oso</span>
        <span *ngIf="valLength('enm',4) && esVal('enm',1)">{{elemento.nomenclatura}}oso</span>
        <span *ngIf="valLength('enm',4) && esVal('enm',2)">{{elemento.nomenclatura}}ico</span><span *ngIf="valLength('enm',4) && esVal('enm',3)">per{{elemento.nomenclatura}}ico</span></b></h6>

        <!-- ácido Stock -->
        <h6 *ngIf="reaccion('acido') && !esElem('P') && !esElem('As')">Nomenclatura Stock: <b>{{elemento.nomenclatura}}ato ({{valNM|romano}}) de hidrógeno</b></h6>

        <!-- ácido sistemática -->
        <h6 *ngIf="reaccion('acido') && !esElem('P') && !esElem('As')">Nomenclatura sistemática: <b><span *ngIf="siEs('nm',1)">mon</span><span *ngIf="siEs('nm',2) || siEs('nm',3)">di</span><span *ngIf="siEs('nm',4) || siEs('nm',5)">tri</span><span *ngIf="siEs('nm',6) || siEs('nm',7)">tetra</span>oxo{{elemento.nomenclatura}}ato
        de hidrógeno</b></h6>

         <!-- ácido P As tradicional -->
         <h6 *ngIf="reaccion('acido') && (esElem('P') || esElem('As'))">Nomenclatura tradicional: <b>ácido <span *ngIf="esEsp(1)">meta</span><span *ngIf="esEsp(2)">piro</span><span *ngIf="esEsp(3)">orto</span>{{elemento.nomenclatura}}<span *ngIf="esVal('enm',0)"><span *ngIf="esElem('As')">i</span><span *ngIf="esElem('P')">or</span>oso</span><span *ngIf="esVal('enm',1)"><span *ngIf="esElem('P')">or</span>ico</span></b></h6>
        
         <!-- ácido P As Stock -->
        <h6 *ngIf="reaccion('acido') && (esElem('P') || esElem('As'))">Nomenclatura Stock: <b><span *ngIf="siEs('nm',3) && esEsp(1)">di</span><span *ngIf="siEs('nm',3) && esEsp(3) || siEs('nm',5) && esEsp(1)">tri</span><span *ngIf="siEs('nm',5) && esEsp(3)">tetra</span><span *ngIf="siEs('nm',3) && esEsp(2)">penta</span><span *ngIf="siEs('nm',5) && esEsp(2)">hepta</span>oxo{{elemento.nomenclatura}}<span *ngIf="esElem('As')">i</span>ato ({{valNM|romano}}) de hidrógeno</b></h6>

        <!-- ácido P As sistemática -->
        <h6 *ngIf="reaccion('acido') && (esElem('P') || esElem('As'))">Nomenclatura sistemática: <b><span *ngIf="siEs('nm',3) && esEsp(1)">di</span><span *ngIf="siEs('nm',3) && esEsp(3) || siEs('nm',5) && esEsp(1)">tri</span><span *ngIf="siEs('nm',5) && esEsp(3)">tetra</span><span *ngIf="siEs('nm',3) && esEsp(2)">penta</span><span *ngIf="siEs('nm',5) && esEsp(2)">hepta</span>oxo<span *ngIf="esEsp(2)">di</span>{{elemento.nomenclatura}}<span *ngIf="esElem('As')">i</span>ato
            de hidrógeno</b></h6>

        <!-- hidrácido Compuesto en disolución -->
        <h6 *ngIf="reaccion('hidracido')">Compuesto en disolución: <b>ácido {{elemento.nomenclatura}}hídrico</b></h6>

        <!-- hidrácido Compuesto en estado puro -->
        <h6 *ngIf="reaccion('hidracido')">Compuesto en estado puro: <b>{{elemento.nomenclatura}}uro de hidrógeno</b></h6>

        <!-- Sal tradicional -->
        <h6 *ngIf="reaccion('sal') && !(acidoEsp>0)">Nomenclatura tradicional: <b><span *ngIf="valLength('snm',4) && esVal('snm',0) || salNoMetal.simbolo==='S' && esVal('snm',0)">hipo</span><span *ngIf="valLength('snm',4) && esVal('snm',3) || salNoMetal.simbolo==='Mn' && esVal('snm',2)">per</span>{{salNoMetal.nomenclatura}}<span *ngIf="valLength('snm',2) && esVal('snm',0) || valLength('snm',3) && esVal('snm',0) || valLength('snm',3) && esVal('snm',1) || valLength('snm',4) && esVal('snm',0) || valLength('snm',4) && esVal('snm',1)">ito</span>
        <span *ngIf="valLength('snm',1) || valLength('snm',2) && esVal('snm',1) || valLength('snm',3) && esVal('snm',2) || valLength('snm',4) && esVal('snm',2) || valLength('snm',4) && esVal('snm',3)">ato</span><span *ngIf="valLength('sm',1)"> de {{salMetal.nombre|lowercase}}</span>
        <span *ngIf="valLength('sm',2) && esVal('sm',0)"> {{salMetal.nomenclatura}}oso</span><span *ngIf="valLength('sm',2) && esVal('sm',1)"> {{salMetal.nomenclatura}}ico</span></b></h6>

        <!-- sal Stock -->
        <h6 *ngIf="reaccion('sal') && !(acidoEsp>0)">Nomenclatura Stock: <b>{{salNoMetal.nomenclatura}}ato ({{valNM|romano}}) de {{salMetal.nombre|lowercase}} ({{valM|romano}})</b></h6>

        <!-- sal sistemáica -->
        <h6 *ngIf="reaccion('sal') && !(acidoEsp>0)">Nomenclatura sistemática: <b><span *ngIf="siEs('m',2) && !par('nm') || siEs('m',4) && par('nm')">bis-</span><span *ngIf="siEs('m',3)">tris-</span><span *ngIf="siEs('m',4) && !par('nm')">tetrakis-</span><span *ngIf="siEs('nm',1)">mon</span><span *ngIf="siEs('nm',2) || siEs('nm',3)">di</span>
        <span *ngIf="siEs('nm',4) || siEs('nm',5)">tri</span><span *ngIf="siEs('nm',6) || siEs('nm',7)">tetra</span>oxo{{salNoMetal.nomenclatura}}ato de <span *ngIf="!par('m') && par('nm')">di</span>{{salMetal.nombre|lowercase}}</b></h6>

        <!-- Sal tradicional P As -->
        <h6 *ngIf="reaccion('sal') && acidoEsp>0">Nomenclatura tradicional: <b><span *ngIf="esEsp(1)">meta</span><span *ngIf="esEsp(2)">piro</span><span *ngIf="esEsp(3)">orto</span>{{salNoMetal.nomenclatura}}<span *ngIf="esVal('snm',0)">ito</span><span *ngIf="esVal('snm',1)"><span *ngIf="esElem('As')">i</span>ato</span><span *ngIf="valLength('sm',1)"> de {{salMetal.nombre|lowercase}}</span><span *ngIf="valLength('sm',2) && esVal('sm',0)"> {{salMetal.nomenclatura}}oso</span><span *ngIf="valLength('sm',2) && esVal('sm',1)"> {{salMetal.nomenclatura}}ico</span></b></h6>

        <!-- sal Stock P As -->
        <h6 *ngIf="reaccion('sal') && acidoEsp>0">Nomenclatura Stock: <b><span *ngIf="siEs('nm',3) && esEsp(1)">di</span><span *ngIf="siEs('nm',3) && esEsp(3) || siEs('nm',5) && esEsp(1)">tri</span><span *ngIf="siEs('nm',5) && esEsp(3)">tetra</span><span *ngIf="siEs('nm',3) && esEsp(2)">penta</span><span *ngIf="siEs('nm',5) && esEsp(2)">hepta</span>oxo{{salNoMetal.nomenclatura}}<span *ngIf="esElem('As')">i</span>ato ({{valNM|romano}}) de {{salMetal.nombre|lowercase}} ({{valM|romano}})</b></h6>

        <!-- sal sistemáica P As -->
        <h6 *ngIf="reaccion('sal') && acidoEsp>0">Nomenclatura sistemática: <b><span *ngIf="siEs('m',2) && esEsp(3)">bis-</span><span *ngIf="siEs('m',3) && esEsp(2)">tris-</span><span *ngIf="siEs('m',4) && esEsp(3)">tetrakis-</span><span *ngIf="siEs('nm',3) && esEsp(1)">di</span><span *ngIf="siEs('nm',3) && esEsp(3) || siEs('nm',5) && esEsp(1)">tri</span><span *ngIf="siEs('nm',5) && esEsp(3)">tetra</span><span *ngIf="siEs('nm',3) && esEsp(2)">penta</span><span *ngIf="siEs('nm',5) && esEsp(2)">hepta</span>oxo<span *ngIf="esEsp(2)">di</span>{{salNoMetal.nomenclatura}}<span *ngIf="esElem('As')">i</span>ato de <span *ngIf="siEs('m',2) && esEsp(2)">di</span><span *ngIf="(siEs('m',1) || par('m')) && esEsp(3)">tri</span><span *ngIf="!par('m') && esEsp(2)">tetra</span>{{salMetal.nombre|lowercase}}</b></h6>

        <!-- Sal de hidrácido tradicional -->
        <h6 *ngIf="reaccion('sal de hidracido')">Nomenclatura tradicional: <b>{{salNoMetal.nomenclatura}}uro<span *ngIf="valLength('sm',1)"> de {{salMetal.nombre|lowercase}}</span>
            <span *ngIf="valLength('sm',2) && esVal('sm',0)"> {{salMetal.nomenclatura}}oso</span><span *ngIf="valLength('sm',2) && esVal('sm',1)"> {{salMetal.nomenclatura}}ico</span></b></h6>

        <!-- Sal de hidrácido Stock -->
        <h6 *ngIf="reaccion('sal de hidracido')">Nomenclatura Stock: <b>{{salNoMetal.nomenclatura}}uro de {{salMetal.nombre|lowercase}} ({{valM|romano}})</b></h6>

    </div>
</div>

<div class="modal fade" tabindex="-1" data-bs-backdrop="static" id="modal">
    <form [formGroup]="miFormulario" (ngSubmit)="guardar()">

        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Elemento: {{elemento.simbolo}} ({{elemento.nombre}})</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="reset()"></button>
                </div>
                <div class="modal-body">

                    <p>Seleccione el compuesto a formar:</p>
                    <select class="form-select" formControlName="reaccion">
                        <option selected>Seleccionar</option>
                        <option value="oxido basico" *ngIf="elemento.valenciaM">Óxido básico</option>
                        <option value="anhidrido" *ngIf="elemento.valenciaNM">Anhídrido</option>
                        <option value="hidroxido" *ngIf="elemento.valenciaM">Hidróxido</option>
                        <option value="acido" *ngIf="elemento.valenciaNM">Ácido</option>
                        <option value="sal">Sal</option>
                        <!-- <option value="hidruro" *ngIf="metal()">Hidruro</option> -->
                        <option value="hidracido" *ngIf="elemento.valenciaH">Hidrácido</option>
                        <option value="sal de hidracido" *ngIf="elemento.valenciaM || elemento.valenciaH">Sal de hidrácido</option>
                    </select>

                    <div *ngIf="miFormulario.value.reaccion">
                        <p class="m-1">Valencia:</p>
                        <div *ngIf="reaccionF('oxido basico') || reaccionF('hidroxido') || reaccionF('sal de hidracido') || reaccionF('sal')">
                            <div class="form-check" *ngFor="let val of elemento.valenciaM">
                                <input class="form-check-input" type="radio" name="valencia" value={{val}} id="e{{val}}" formControlName="valencia">
                                <label class="form-check-label" for="e{{val}}">
                                {{val}}
                            </label>
                            </div>
                        </div>
                        <div *ngIf="reaccionF('anhidrido') || reaccionF('acido') || (reaccionF('sal') && !elemento.valenciaM)">
                            <div class="form-check" *ngFor="let val of elemento.valenciaNM">
                                <input class="form-check-input" type="radio" name="valencia" value={{val}} id="e{{val}}" formControlName="valencia">
                                <label class="form-check-label" for="e{{val}}">
                                {{val}}
                            </label>
                            </div>
                        </div>
                        <div *ngIf="reaccionF('hidracido') || reaccionF('sal de hidracido') && elemento.valenciaH" class="form-check">
                            <input class="form-check-input" type="radio" name="valencia" value={{elemento.valenciaH}} formControlName="valencia" id="hid">
                            <label class="form-check-label" for="hid">
                            {{elemento.valenciaH}}
                        </label>
                        </div>

                        <div *ngIf="reaccionF('acido') && (esElem('P') || esElem('As'))">
                            <p class="m-1">Formar ácido con:</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="acidoEsp" value=1 id="1h2o" formControlName="acidoEsp">
                                <label class="form-check-label" for="1h2o">
                                +1 H<sub>2</sub>O
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="acidoEsp" value=2 id="2h2o" formControlName="acidoEsp">
                                <label class="form-check-label" for="2h2o">
                                +2 H<sub>2</sub>O
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="acidoEsp" value=3 id="3h2o" formControlName="acidoEsp">
                                <label class="form-check-label" for="3h2o">
                                +3 H<sub>2</sub>O
                            </label>
                            </div>
                        </div>

                        <div *ngIf="reaccionF('sal') && (esElem('P') || esElem('As'))">
                            <p class="m-1">Elegir ácido para formar la sal:</p>
                            <div *ngIf="miFormulario.value.valencia==3">
                                <div class="form-check" *ngFor="let acid of elemento.acEspecial3, let i=index">
                                    <input class="form-check-input" type="radio" name="acidoEsp" value={{i+1}} id={{acid}} formControlName="acidoEsp">
                                    <label class="form-check-label" for={{acid}}>
                                        {{acid}}
                                    </label>
                                </div>                                
                            </div>
                            <div *ngIf="miFormulario.value.valencia==5">
                                <div class="form-check" *ngFor="let acid of elemento.acEspecial5, let i=index">
                                    <input class="form-check-input" type="radio" name="acidoEsp" value={{i+1}} id={{acid}} formControlName="acidoEsp">
                                    <label class="form-check-label" for={{acid}}>
                                        {{acid}}
                                    </label>
                                </div>                                
                            </div>
                        </div>

                    </div>

                    <div *ngIf="reaccionF('sal') || reaccionF('sal de hidracido')">
                        <hr>
                        <p>Seleccione otro elemento para formar la sal:</p>
                        <select class="form-select" *ngIf="elemento.valenciaM && reaccionF('sal')" formControlName="salElem">
                                <option *ngFor="let elem of noMetales" [ngValue]=elem >{{elem.simbolo}} ({{elem.nombre}})</option>
                        </select>
                        <select class="form-select" *ngIf="elemento.valenciaM && reaccionF('sal de hidracido')" formControlName="salElem">
                            <option *ngFor="let elem of noMetalesHid" [ngValue]=elem >{{elem.simbolo}} ({{elem.nombre}})</option>
                        </select>
                        <select class="form-select" *ngIf="elemento.valenciaNM && !esElem('Cr') && !esElem('Mn')" formControlName="salElem">
                            <option *ngFor="let elem of metales" [ngValue]=elem >{{elem.simbolo}} ({{elem.nombre}})</option>
                        </select>

                        <p class="m-1" *ngIf="miFormulario.value.salElem.nombre">Valencia de {{miFormulario.value.salElem.nombre}}</p>
                        <div *ngIf="reaccionF('sal') && elemento.valenciaM">
                            <div class="form-check" *ngFor="let val of miFormulario.value.salElem.valenciaNM">
                                <input class="form-check-input" type="radio" name="salValencia" value={{val}} formControlName="salValencia" id="s{{val}}">
                                <label class="form-check-label" for="s{{val}}">
                                    {{val}}
                                </label>
                            </div>
                        </div>
                        <div *ngIf="(reaccionF('sal') || reaccionF('sal de hidracido')) && elemento.valenciaNM && !esElem('Cr') && !esElem('Mn')">
                            <div class="form-check" *ngFor="let val of miFormulario.value.salElem.valenciaM">
                                <input class="form-check-input" type="radio" name="salValencia" value={{val}} formControlName="salValencia" id="s{{val}}">
                                <label class="form-check-label" for="s{{val}}">
                                    {{val}}
                                </label>
                            </div>
                        </div>
                        <div *ngIf="reaccionF('sal de hidracido') && elemento.valenciaM" class="form-check">
                            <input class="form-check-input" type="radio" name="salValencia" value={{miFormulario.value.salElem.valenciaH}} formControlName="salValencia" id="salHid" *ngIf="miFormulario.value.salElem.nombre">
                            <label class="form-check-label" for="salHid" *ngIf="miFormulario.value.salElem.nombre">
                                {{miFormulario.value.salElem.valenciaH}}
                            </label>
                        </div>

                        <div *ngIf="miFormulario.value.salElem.acEspecial3">
                            <p class="m-1">Elegir ácido para formar la sal:</p>
                            <div *ngIf="miFormulario.value.salValencia==3">
                                <div class="form-check" *ngFor="let acid of miFormulario.value.salElem.acEspecial3, let i=index">
                                    <input class="form-check-input" type="radio" name="acidoEsp" value={{i+1}} id={{acid}} formControlName="acidoEsp">
                                    <label class="form-check-label" for={{acid}}>
                                        {{acid}}
                                    </label>
                                </div>                                
                            </div>
                            <div *ngIf="miFormulario.value.salValencia==5">
                                <div class="form-check" *ngFor="let acid of miFormulario.value.salElem.acEspecial5, let i=index">
                                    <input class="form-check-input" type="radio" name="acidoEsp" value={{i+1}} id={{acid}} formControlName="acidoEsp">
                                    <label class="form-check-label" for={{acid}}>
                                        {{acid}}
                                    </label>
                                </div>                                
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal" [disabled]="miFormulario.invalid">Reacción</button>
                </div>
            </div>
        </div>
    </form>
</div>
